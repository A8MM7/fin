version: 2

models:
  - name: stg_customers
    description: "Staging view on top of snp_customers snapshot. One row per customer version (SCD2)."
    columns:
      - name: borrower_id
        tests:
          - not_null:
              name: borrower_id_is_not_null

      - name: country_of_residency
        tests:
          - not_null:
              name: country_of_residency_is_not_null
              severity: warn

      - name: first_name
        tests:
          - not_null:
              name: first_name_is_not_null

      - name: last_name
        tests:
          - not_null:
              name: last_name_is_not_null

      - name: phone_number
        tests:
          - not_null:
              name: phone_number_is_not_null
              severity: warn

      - name: email
        tests:
          - not_null:
              name: email_is_not_null
              severity: warn

